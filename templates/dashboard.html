<section id="dashboard">
  <div class="page-header">
    <div class="page-title">
        <h1>ðŸ“Š Executive Dashboard</h1>
        <p>Real-time mining royalties overview and analytics for comprehensive business intelligence</p>
    </div>
    <div class="page-actions">
        <button class="btn btn-info" id="refresh-dashboard-btn" title="Refresh all dashboard data">
            <i class="fas fa-sync-alt"></i> Refresh Data
        </button>
        <button class="btn btn-secondary" id="export-dashboard-btn" title="Export dashboard report">
            <i class="fas fa-file-export"></i> Export Report
        </button>
        <button class="btn btn-primary" id="customize-dashboard-btn" title="Customize dashboard layout">
            <i class="fas fa-cog"></i> Customize
        </button>
    </div>
  </div>

  <!-- Key Performance Indicators -->
  <div class="charts-grid" id="kpi-metrics">
    <div class="metric-card card">
        <div class="card-header">
            <h3><i class="fas fa-money-bill-wave"></i> Total Royalties</h3>
            <select class="metric-period" id="royalties-period">
                <option value="current-month">This Month</option>
                <option value="current-year" selected>This Year</option>
                <option value="all-time">All Time</option>
            </select>
        </div>
        <div class="card-body">
            <p id="total-royalties">E 0</p>
            <small id="royalties-trend" class="trend-positive">
                <i class="fas fa-arrow-up"></i> +0%
            </small>
            <div class="mini-progress">
                <div class="progress-bar" id="royalties-progress" style="width: 0%;"></div>
            </div>
        </div>
    </div>

    <div class="metric-card card">
        <div class="card-header">
            <h3><i class="fas fa-industry"></i> Active Entities</h3>
        </div>
        <div class="card-body">
            <p id="active-entities">0</p>
            <small id="entities-trend" class="trend-positive">
                <i class="fas fa-plus"></i> +0 new entities
            </small>
            <div class="entities-breakdown">
                <span class="entity-type">Mines: <strong id="mines-count">0</strong></span> â€¢ 
                <span class="entity-type">Quarries: <strong id="quarries-count">0</strong></span>
            </div>
        </div>
    </div>

    <div class="metric-card card">
        <div class="card-header">
            <h3><i class="fas fa-percentage"></i> Compliance Rate</h3>
        </div>
        <div class="card-body">
            <p id="compliance-rate">0%</p>
            <small id="compliance-trend" class="trend-positive">
                <i class="fas fa-arrow-up"></i> +0%
            </small>
            <div class="compliance-breakdown">
                <span class="entity-type text-success">Paid: <strong id="paid-count">0</strong></span> â€¢ 
                <span class="entity-type text-warning">Pending: <strong id="pending-count">0</strong></span> â€¢ 
                <span class="entity-type text-danger">Overdue: <strong id="overdue-count">0</strong></span>
            </div>
            <div class="mini-progress">
                <div class="progress-bar" id="compliance-progress" style="width: 0%;"></div>
            </div>
        </div>
    </div>

    <div class="metric-card card">
        <div class="card-header">
            <h3><i class="fas fa-exclamation-triangle"></i> Pending Approvals</h3>
        </div>
        <div class="card-body">
            <p id="pending-approvals">0</p>
            <small id="pending-text" class="trend-stable">
                <i class="fas fa-clock"></i> No pending items
            </small>
            <div class="urgency-indicator">
                <span class="urgent-badge" id="urgent-items" style="display: none;">
                    <i class="fas fa-exclamation-circle"></i> Requires immediate attention
                </span>
            </div>
        </div>
    </div>
  </div>

  <!-- Quick Actions Dashboard -->
  <div class="card">
    <div class="card-header">
        <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
    </div>
    <div class="card-body">
        <div class="quick-actions-grid">
            <button class="quick-action-btn" onclick="app.showSection('royalty-records')">
                <i class="fas fa-file-invoice-dollar"></i>
                <span>View All Records</span>
            </button>
            <button class="quick-action-btn" onclick="window.recordActions?.showAddRecordForm()">
                <i class="fas fa-plus"></i>
                <span>Add New Record</span>
            </button>
            <button class="quick-action-btn" onclick="app.showSection('user-management')">
                <i class="fas fa-users"></i>
                <span>Manage Users</span>
            </button>
            <button class="quick-action-btn" onclick="generateMonthlyReport()">
                <i class="fas fa-chart-bar"></i>
                <span>Monthly Report</span>
            </button>
        </div>
    </div>
  </div>

  <!-- Analytics Charts -->
  <div class="charts-grid">
    <div class="analytics-chart card">
        <div class="chart-header">
            <h5><i class="fas fa-chart-line"></i> Revenue Trends</h5>
            <div class="chart-controls">
                <button class="chart-btn active" data-chart-type="line" data-chart-id="revenue-trends-chart">Line</button>
                <button class="chart-btn" data-chart-type="area" data-chart-id="revenue-trends-chart">Area</button>
                <button class="chart-btn" data-chart-type="bar" data-chart-id="revenue-trends-chart">Bar</button>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="revenue-trends-chart"></canvas>
        </div>
    </div>

    <div class="analytics-chart card">
        <div class="chart-header">
            <h5><i class="fas fa-chart-pie"></i> Production by Entity</h5>
            <div class="chart-controls">
                <button class="chart-btn active" id="entity-chart-refresh">Refresh</button>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="production-by-entity-chart"></canvas>
        </div>
    </div>
  </div>

  <!-- Recent Activity and Alerts -->
  <div class="charts-grid">
    <div class="card">
        <div class="card-header">
            <h5><i class="fas fa-history"></i> Recent Activity</h5>
            <button class="btn btn-sm btn-secondary" id="view-all-activity">
                View All <i class="fas fa-arrow-right"></i>
            </button>
        </div>
        <div class="card-body">
            <div id="recent-activity" class="activity-list">
                <!-- Activity items will be populated dynamically -->
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5><i class="fas fa-bell"></i> System Alerts</h5>
            <span class="alert-count" id="alert-count">0</span>
        </div>
        <div class="card-body">
            <div id="system-alerts" class="alerts-container">
                <!-- Alerts will be populated dynamically -->
            </div>
        </div>
    </div>
  </div>
</section>
