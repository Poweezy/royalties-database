<div class="login-container">
  <div class="login-header">
    <div class="login-logo" aria-label="Mining Royalties Manager Logo">MR</div>
    <h2>Mining Royalties Manager</h2>
    <p>Secure access to your royalty management system</p>
  </div>
  
  <!-- Demo Credentials Notice -->
  <div class="demo-credentials">
    <h4><i class="fas fa-info-circle"></i> Demo Credentials</h4>
    <div class="credentials-list">
      <div class="credential-item">
        <strong>Administrator:</strong> admin / admin123
      </div>
      <div class="credential-item">
        <strong>Finance Manager:</strong> finance / finance123
      </div>
      <div class="credential-item">
        <strong>Auditor:</strong> auditor / audit123
      </div>
    </div>
  </div>

  <form class="login-form" id="login-form">
    <div class="input-group">
      <i class="fas fa-user"></i>
      <input type="text" id="username" placeholder="Username" aria-describedby="username-error" autocomplete="username" required>
      <div class="validation-error" id="username-error" style="display: none;">Username is required</div>
    </div>
    <div class="input-group">
      <i class="fas fa-lock"></i>
      <input type="password" id="password" placeholder="Password" aria-describedby="password-error" autocomplete="current-password" required>
      <button type="button" class="password-toggle" aria-label="Toggle password visibility">
        <i class="fas fa-eye"></i>
      </button>
      <div class="validation-error" id="password-error" style="display: none;">Password is required</div>
    </div>
    
    <!-- Remember Me Option -->
    <div class="login-options">
      <label class="checkbox-container">
        <input type="checkbox" id="remember-me">
        <span class="checkmark"></span>
        Remember me
      </label>
    </div>

    <button type="submit" class="btn btn-primary btn-large" id="login-submit">
      <span class="btn-text">Sign In</span>
      <span class="btn-spinner" style="display: none;">
        <i class="fas fa-spinner fa-spin"></i> Signing in...
      </span>
    </button>
  </form>
  
  <!-- Quick Login Buttons -->
  <div class="quick-login">
    <p>Quick Demo Login:</p>
    <div class="quick-login-buttons">
      <button type="button" class="btn btn-outline btn-sm" data-username="admin" data-password="admin123">
        <i class="fas fa-crown"></i> Admin
      </button>
      <button type="button" class="btn btn-outline btn-sm" data-username="finance" data-password="finance123">
        <i class="fas fa-calculator"></i> Finance
      </button>
      <button type="button" class="btn btn-outline btn-sm" data-username="auditor" data-password="audit123">
        <i class="fas fa-search"></i> Auditor
      </button>
    </div>
  </div>

  <div class="login-footer">
    <p>Please contact your administrator for credentials.</p>
    <div class="login-help">
      <a href="#" class="help-link" id="forgot-password">
        <i class="fas fa-question-circle"></i> Forgot Password?
      </a>
      <a href="#" class="help-link" id="contact-admin">
        <i class="fas fa-envelope"></i> Contact Admin
      </a>
    </div>
  </div>
</div>

<!-- Login Enhancement Script -->
<script>
(function() {
  // Initialize login enhancements when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeLoginEnhancements);
  } else {
    initializeLoginEnhancements();
  }

  function initializeLoginEnhancements() {
    setupQuickLogin();
    setupPasswordToggle();
    setupFormValidation();
    setupHelpLinks();
    checkRememberedUser();
  }

  function setupQuickLogin() {
    const quickLoginButtons = document.querySelectorAll('.quick-login-buttons .btn');
    quickLoginButtons.forEach(button => {
      button.addEventListener('click', function() {
        const username = this.getAttribute('data-username');
        const password = this.getAttribute('data-password');
        
        document.getElementById('username').value = username;
        document.getElementById('password').value = password;
        
        // Add visual feedback
        this.innerHTML = '<i class="fas fa-check"></i> Selected';
        setTimeout(() => {
          this.innerHTML = this.getAttribute('data-original') || this.innerHTML.replace('<i class="fas fa-check"></i> Selected', this.querySelector('i').outerHTML + ' ' + this.textContent.split(' ').slice(1).join(' '));
        }, 1500);
      });
      
      // Store original content
      button.setAttribute('data-original', button.innerHTML);
    });
  }

  function setupPasswordToggle() {
    const passwordToggle = document.querySelector('.password-toggle');
    const passwordField = document.getElementById('password');
    
    if (passwordToggle && passwordField) {
      passwordToggle.addEventListener('click', function() {
        const icon = this.querySelector('i');
        if (passwordField.type === 'password') {
          passwordField.type = 'text';
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
        } else {
          passwordField.type = 'password';
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
        }
      });
    }
  }

  function setupFormValidation() {
    const form = document.getElementById('login-form');
    const usernameField = document.getElementById('username');
    const passwordField = document.getElementById('password');
    
    [usernameField, passwordField].forEach(field => {
      if (field) {
        field.addEventListener('input', function() {
          hideValidationError(this.id);
        });
      }
    });
  }

  function hideValidationError(fieldId) {
    const errorElement = document.getElementById(fieldId + '-error');
    if (errorElement) {
      errorElement.style.display = 'none';
    }
  }

  function setupHelpLinks() {
    const forgotPasswordLink = document.getElementById('forgot-password');
    const contactAdminLink = document.getElementById('contact-admin');
    
    if (forgotPasswordLink) {
      forgotPasswordLink.addEventListener('click', function(e) {
        e.preventDefault();
        alert('Please contact your system administrator to reset your password.\n\nEmail: admin@royalties.sz\nPhone: +268 2404 2000');
      });
    }
    
    if (contactAdminLink) {
      contactAdminLink.addEventListener('click', function(e) {
        e.preventDefault();
        window.open('mailto:admin@royalties.sz?subject=Mining Royalties Manager - Support Request', '_blank');
      });
    }
  }

  function checkRememberedUser() {
    const rememberedUser = localStorage.getItem('rememberedUser');
    if (rememberedUser) {
      document.getElementById('username').value = rememberedUser;
      document.getElementById('remember-me').checked = true;
    }
  }
})();
</script>

<style>
.demo-credentials {
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.demo-credentials h4 {
  margin: 0 0 12px 0;
  color: #495057;
  font-size: 14px;
  font-weight: 600;
}

.demo-credentials h4 i {
  color: #17a2b8;
  margin-right: 8px;
}

.credentials-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.credential-item {
  font-size: 13px;
  color: #6c757d;
}

.credential-item strong {
  color: #495057;
  display: inline-block;
  width: 120px;
}

.login-options {
  margin: 16px 0;
}

.checkbox-container {
  display: flex;
  align-items: center;
  font-size: 14px;
  color: #6c757d;
  cursor: pointer;
}

.checkbox-container input[type="checkbox"] {
  margin-right: 8px;
}

.quick-login {
  margin: 24px 0;
  text-align: center;
}

.quick-login p {
  margin: 0 0 12px 0;
  font-size: 14px;
  color: #6c757d;
}

.quick-login-buttons {
  display: flex;
  gap: 8px;
  justify-content: center;
  flex-wrap: wrap;
}

.btn-outline {
  background: transparent;
  border: 1px solid #dee2e6;
  color: #6c757d;
  transition: all 0.2s ease;
}

.btn-outline:hover {
  background: #f8f9fa;
  border-color: #adb5bd;
  color: #495057;
}

.btn-sm {
  padding: 6px 12px;
  font-size: 12px;
}

.login-help {
  display: flex;
  justify-content: center;
  gap: 24px;
  margin-top: 16px;
}

.help-link {
  color: #6c757d;
  text-decoration: none;
  font-size: 13px;
  transition: color 0.2s ease;
}

.help-link:hover {
  color: #495057;
}

.help-link i {
  margin-right: 4px;
}

.btn-spinner {
  display: none;
}

.login-form.loading .btn-text {
  display: none;
}

.login-form.loading .btn-spinner {
  display: inline;
}

@media (max-width: 480px) {
  .quick-login-buttons {
    flex-direction: column;
  }
  
  .login-help {
    flex-direction: column;
    gap: 12px;
  }
  
  .credentials-list {
    font-size: 12px;
  }
  
  .credential-item strong {
    width: 100px;
  }
}
</style>
