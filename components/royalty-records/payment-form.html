<!-- Royalty Payment Form Component -->
<div class="payment-form" id="payment-form-container" style="display: none;">
  <div class="section-header">
    <h4 id="form-title"><i class="fas fa-coins"></i> Record Royalty Payment</h4>
    <button class="btn btn-secondary btn-sm" id="close-payment-form">
      <i class="fas fa-times"></i> Close
    </button>
  </div>

  <form id="royalty-payment-form" class="needs-validation" novalidate>
    <input type="hidden" id="payment-id" name="paymentId">
    
    <!-- Entity & Payment Details -->
    <div class="form-section">
      <h5><i class="fas fa-building"></i> Entity & Payment Details</h5>
      <div class="grid-2">
        <div class="form-group">
          <label for="entity">Mining Entity*</label>
          <select class="form-control" id="entity" name="entity" required>
            <option value="">Select Entity</option>
            <option value="kwalini">Kwalini Quarry</option>
            <option value="mbabane">Mbabane Quarry</option>
            <option value="sidvokodvo">Sidvokodvo Quarry</option>
            <option value="maloma">Maloma Colliery</option>
            <option value="ngwenya">Ngwenya Mine</option>
            <option value="malolotja">Malolotja Mine</option>
          </select>
          <div class="invalid-feedback">
            Please select an entity.
          </div>
        </div>

        <div class="form-group">
          <label for="payment-date">Payment Date*</label>
          <input type="date" class="form-control" id="payment-date" name="paymentDate" required>
          <div class="invalid-feedback">
            Payment date is required.
          </div>
        </div>
      </div>

      <div class="grid-2">
        <div class="form-group">
          <label for="mineral-type">Mineral Type*</label>
          <select class="form-control" id="mineral-type" name="mineralType" required>
            <option value="">Select Mineral</option>
            <option value="coal">Coal</option>
            <option value="iron">Iron Ore</option>
            <option value="stone">Stone Aggregate</option>
            <option value="sand">Sand</option>
            <option value="gravel">Gravel</option>
          </select>
          <div class="invalid-feedback">
            Please select a mineral type.
          </div>
        </div>

        <div class="form-group">
          <label for="payment-period">Payment Period*</label>
          <input type="month" class="form-control" id="payment-period" name="paymentPeriod" required>
          <div class="invalid-feedback">
            Payment period is required.
          </div>
        </div>
      </div>
    </div>

    <!-- Production Details -->
    <div class="form-section">
      <h5><i class="fas fa-industry"></i> Production Details</h5>
      <div class="grid-3">
        <div class="form-group">
          <label for="volume">Production Volume (m³)*</label>
          <input type="number" class="form-control" id="volume" name="volume" step="0.01" required>
          <div class="invalid-feedback">
            Production volume is required.
          </div>
        </div>

        <div class="form-group">
          <label for="rate">Royalty Rate (E/m³)*</label>
          <input type="number" class="form-control" id="rate" name="rate" step="0.01" required>
          <div class="invalid-feedback">
            Royalty rate is required.
          </div>
        </div>

        <div class="form-group">
          <label for="total-amount">Total Amount (E)</label>
          <input type="number" class="form-control" id="total-amount" name="totalAmount" readonly>
          <small class="form-text text-muted">Automatically calculated</small>
        </div>
      </div>
    </div>

    <!-- Payment Information -->
    <div class="form-section">
      <h5><i class="fas fa-money-check-alt"></i> Payment Information</h5>
      <div class="grid-2">
        <div class="form-group">
          <label for="payment-method">Payment Method*</label>
          <select class="form-control" id="payment-method" name="paymentMethod" required>
            <option value="">Select Method</option>
            <option value="bank-transfer">Bank Transfer</option>
            <option value="check">Check</option>
            <option value="direct-deposit">Direct Deposit</option>
          </select>
          <div class="invalid-feedback">
            Please select a payment method.
          </div>
        </div>

        <div class="form-group">
          <label for="reference-number">Reference Number*</label>
          <input type="text" class="form-control" id="reference-number" name="referenceNumber" required>
          <div class="invalid-feedback">
            Reference number is required.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="payment-notes">Payment Notes</label>
        <textarea class="form-control" id="payment-notes" name="paymentNotes" rows="3"></textarea>
      </div>
    </div>

    <!-- Supporting Documents -->
    <div class="form-section">
      <h5><i class="fas fa-file-upload"></i> Supporting Documents</h5>
      <div class="grid-2">
        <div class="form-group">
          <label for="payment-proof">Proof of Payment*</label>
          <input type="file" class="form-control" id="payment-proof" name="paymentProof" accept=".pdf,.jpg,.png" required>
          <div class="invalid-feedback">
            Proof of payment is required.
          </div>
        </div>

        <div class="form-group">
          <label for="production-report">Production Report</label>
          <input type="file" class="form-control" id="production-report" name="productionReport" accept=".pdf,.xls,.xlsx">
        </div>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button type="button" class="btn btn-secondary" id="cancel-payment">
        <i class="fas fa-times"></i> Cancel
      </button>
      <button type="button" class="btn btn-warning" id="save-draft-payment">
        <i class="fas fa-save"></i> Save Draft
      </button>
      <button type="submit" class="btn btn-success" id="submit-payment">
        <i class="fas fa-check"></i> Record Payment
      </button>
    </div>
  </form>
</div>
