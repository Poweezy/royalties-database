<div class="page-header">
    <div class="page-title">
        <h1>‚úÖ Compliance & Regulatory</h1>
        <p>Monitor compliance status and regulatory requirements</p>
    </div>
    <div class="page-actions">
        <button class="btn btn-success" id="run-compliance-check-btn">
            üîç Run Compliance Check
        </button>
        <button class="btn btn-info" id="generate-compliance-report-btn">
            üìÑ Generate Report
        </button>
    </div>
</div>

<div class="charts-grid">
    <div class="card">
        <div class="card-header">
            <h3>üìä Overall Compliance Score</h3>
        </div>
        <div class="card-body">
            <div style="text-align: center;">
                <h2 style="color: var(--success-color); font-size: 3rem; margin: 0;">92%</h2>
                <p style="color: var(--success-color); margin: 0.5rem 0;">Excellent Compliance</p>
                <div style="width: 100%; height: 8px; background: #eee; border-radius: 4px; margin-top: 1rem;">
                    <div style="width: 92%; height: 100%; background: var(--success-color); border-radius: 4px;"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5>‚ö†Ô∏è Compliance Issues</h5>
        </div>
        <div class="card-body">
            <div style="text-align: center; padding: 2rem;">
                <div style="font-size: 2rem; margin-bottom: 1rem;">‚úÖ</div>
                <p>No critical compliance issues detected</p>
                <small style="color: #666;">Last checked: Today at 09:30</small>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5>üìã Required Certifications</h5>
        </div>
        <div class="card-body">
            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid #eee;">
                    <span>Environmental Compliance</span>
                    <span style="color: var(--success-color);">‚úÖ Valid</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid #eee;">
                    <span>Safety Standards</span>
                    <span style="color: var(--success-color);">‚úÖ Valid</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid #eee;">
                    <span>Mining License</span>
                    <span style="color: var(--warning-color);">‚ö†Ô∏è Expires Soon</span>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5>üìà Compliance Trends</h5>
        </div>
        <div class="card-body">
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; text-align: center;">
                <div>
                    <h4 style="color: var(--success-color); margin: 0;">95%</h4>
                    <small>Q1 2024</small>
                </div>
                <div>
                    <h4 style="color: var(--success-color); margin: 0;">93%</h4>
                    <small>Q2 2024</small>
                </div>
                <div>
                    <h4 style="color: var(--success-color); margin: 0;">92%</h4>
                    <small>Q3 2024</small>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h5>üìã Entity Compliance Status</h5>
    </div>
    <div class="card-body">
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Entity</th>
                        <th>Compliance Score</th>
                        <th>Last Audit</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Kwalini Quarry</td>
                        <td>95%</td>
                        <td>2024-01-15</td>
                        <td><span class="status-badge paid">Excellent</span></td>
                        <td><button class="btn btn-sm btn-secondary">View Details</button></td>
                    </tr>
                    <tr>
                        <td>Maloma Colliery</td>
                        <td>87%</td>
                        <td>2024-01-20</td>
                        <td><span class="status-badge active">Good</span></td>
                        <td><button class="btn btn-sm btn-secondary">View Details</button></td>
                    </tr>
                    <tr>
                        <td>Ngwenya Mine</td>
                        <td>92%</td>
                        <td>2024-01-25</td>
                        <td><span class="status-badge paid">Excellent</span></td>
                        <td><button class="btn btn-sm btn-secondary">View Details</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const complianceCheckBtn = document.getElementById('run-compliance-check-btn');
    const generateReportBtn = document.getElementById('generate-compliance-report-btn');
    
    if (complianceCheckBtn) {
        complianceCheckBtn.addEventListener('click', function() {
            if (window.notificationManager) {
                window.notificationManager.show('Running compliance check...', 'info');
                setTimeout(() => {
                    window.notificationManager.show('Compliance check completed successfully', 'success');
                }, 2000);
            }
        });
    }
    
    if (generateReportBtn) {
        generateReportBtn.addEventListener('click', function() {
            if (window.notificationManager) {
                window.notificationManager.show('Generating compliance report...', 'info');
                setTimeout(() => {
                    window.notificationManager.show('Compliance report generated successfully', 'success');
                }, 1500);
            }
        });
    }
});
</script>
